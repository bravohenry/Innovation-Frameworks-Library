import{be as _,r as b,bf as U,bg as H,bh as q,bi as G,bj as K,bk as X,bl as J,bm as Q,bn as Y,bo as ee,bp as I,bq as M,br as se,ac as e,ba as C,bb as T,bs as V,bc as R,b9 as z,bd as ae}from"./index-B6Arqw47.js";import{B as te}from"./BaseInteractiveLayout-DI8tFZAT.js";import{$ as ie,s as le}from"./chunk-EUS52Q2W-DpttAlIM.js";var Z=_({slots:{base:"flex flex-col gap-2 w-full",label:"",labelWrapper:"flex justify-between",value:"",track:"z-0 relative bg-default-300/50 overflow-hidden rtl:rotate-180",indicator:"h-full"},variants:{color:{default:{indicator:"bg-default-400"},primary:{indicator:"bg-primary"},secondary:{indicator:"bg-secondary"},success:{indicator:"bg-success"},warning:{indicator:"bg-warning"},danger:{indicator:"bg-danger"}},size:{sm:{label:"text-small",value:"text-small",track:"h-1"},md:{label:"text-medium",value:"text-medium",track:"h-3"},lg:{label:"text-large",value:"text-large",track:"h-5"}},radius:{none:{track:"rounded-none",indicator:"rounded-none"},sm:{track:"rounded-small",indicator:"rounded-small"},md:{track:"rounded-medium",indicator:"rounded-medium"},lg:{track:"rounded-large",indicator:"rounded-large"},full:{track:"rounded-full",indicator:"rounded-full"}},isStriped:{true:{indicator:"bg-stripe-gradient-default bg-stripe-size"}},isIndeterminate:{true:{indicator:["absolute","w-full","origin-left","animate-indeterminate-bar"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:{},false:{indicator:"transition-transform !duration-500"}}},defaultVariants:{color:"primary",size:"md",radius:"full",isStriped:!1,isIndeterminate:!1,isDisabled:!1},compoundVariants:[{disableAnimation:!0,isIndeterminate:!1,class:{indicator:"!transition-none motion-reduce:transition-none"}},{color:"primary",isStriped:!0,class:{indicator:"bg-stripe-gradient-primary bg-stripe-size"}},{color:"secondary",isStriped:!0,class:{indicator:"bg-stripe-gradient-secondary bg-stripe-size"}},{color:"success",isStriped:!0,class:{indicator:"bg-stripe-gradient-success bg-stripe-size"}},{color:"warning",isStriped:!0,class:{indicator:"bg-stripe-gradient-warning bg-stripe-size"}},{color:"danger",isStriped:!0,class:{indicator:"bg-stripe-gradient-danger bg-stripe-size"}}]},{twMerge:!0});_({slots:{base:"flex flex-col justify-center gap-1 max-w-fit items-center",label:"",svgWrapper:"relative block",svg:"z-0 relative overflow-hidden",track:"h-full stroke-default-300/50",indicator:"h-full stroke-current",value:"absolute font-normal inset-0 flex items-center justify-center"},variants:{color:{default:{svg:"text-default-400"},primary:{svg:"text-primary"},secondary:{svg:"text-secondary"},success:{svg:"text-success"},warning:{svg:"text-warning"},danger:{svg:"text-danger"}},size:{sm:{svg:"w-8 h-8",label:"text-small",value:"text-[0.5rem]"},md:{svg:"w-10 h-10",label:"text-small",value:"text-[0.55rem]"},lg:{svg:"w-12 h-12",label:"text-medium",value:"text-[0.6rem]"}},isIndeterminate:{true:{svg:"animate-spinner-ease-spin"}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:{},false:{indicator:"transition-all !duration-500"}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1},compoundVariants:[{disableAnimation:!0,isIndeterminate:!1,class:{svg:"!transition-none motion-reduce:transition-none"}}]});function re(a={}){const{rerender:r=!1,delay:c=0}=a,l=b.useRef(!1),[n,d]=b.useState(!1);return b.useEffect(()=>{l.current=!0;let p=null;return r&&(c>0?p=setTimeout(()=>{d(!0)},c):d(!0)),()=>{l.current=!1,r&&d(!1),p&&clearTimeout(p)}},[r]),[b.useCallback(()=>l.current,[]),n]}function ne(a){let{value:r=0,minValue:c=0,maxValue:l=100,valueLabel:n,isIndeterminate:d,formatOptions:p={style:"percent"}}=a,t=U(a,{labelable:!0}),{labelProps:f,fieldProps:m}=H({...a,labelElementType:"span"});r=G(r,c,l);let u=(r-c)/(l-c),x=ie(p);if(!d&&!n){let S=p.style==="percent"?u:r;n=x.format(S)}return{progressBarProps:q(t,{...m,"aria-valuenow":d?void 0:r,"aria-valuemin":c,"aria-valuemax":l,"aria-valuetext":d?void 0:n,role:"progressbar"}),labelProps:f}}function oe(a){var r,c;const l=K(),[n,d]=X(a,Z.variantKeys),{ref:p,as:t,id:f,className:m,classNames:u,label:x,valueLabel:S,value:h=0,minValue:N=0,maxValue:k=100,showValueLabel:w=!1,formatOptions:A={style:"percent"},...P}=n,s=t||"div",v=J(p),i=Q(u==null?void 0:u.base,m),[,g]=re({rerender:!0,delay:100}),o=a.isIndeterminate,j=(c=(r=a.disableAnimation)!=null?r:l==null?void 0:l.disableAnimation)!=null?c:!1,{progressBarProps:y,labelProps:E}=ne({id:f,label:x,value:h,minValue:N,maxValue:k,valueLabel:S,formatOptions:A,isIndeterminate:o,"aria-labelledby":a["aria-labelledby"],"aria-label":a["aria-label"]}),D=b.useMemo(()=>Z({...d,disableAnimation:j}),[Y(d),j]),$=j?!0:g,O=b.useMemo(()=>o||!$?void 0:ee((h-N)/(k-N)*100),[$,o,h,N,k]),F=b.useCallback((L={})=>({ref:v,"data-indeterminate":M(o),"data-disabled":M(a.isDisabled),className:D.base({class:i}),...I(y,P,L)}),[v,D,o,a.isDisabled,i,y,P]),W=b.useCallback((L={})=>({className:D.label({class:u==null?void 0:u.label}),...I(E,L)}),[D,u,E]);return{Component:s,domRef:v,slots:D,classNames:u,label:x,percentage:O,showValueLabel:w,getProgressBarProps:F,getLabelProps:W}}var B=se((a,r)=>{const{Component:c,slots:l,classNames:n,label:d,percentage:p,showValueLabel:t,getProgressBarProps:f,getLabelProps:m}=oe({...a,ref:r}),u=f(),x=d||t;return e.jsxs(c,{...u,children:[x?e.jsxs("div",{className:l.labelWrapper({class:n==null?void 0:n.labelWrapper}),children:[d&&e.jsx("span",{...m(),children:d}),t&&e.jsx("span",{className:l.value({class:n==null?void 0:n.value}),children:u["aria-valuetext"]})]}):null,e.jsx("div",{className:l.track({class:n==null?void 0:n.track}),children:e.jsx("div",{className:l.indicator({class:n==null?void 0:n.indicator}),style:{transform:`translateX(-${100-(p||0)}%)`}})})]})});B.displayName="HeroUI.Progress";var ce=B;const de={teamName:"Product Development Team",teamNameEn:"Product Development Team",assessmentDate:new Date().toISOString().split("T")[0],dysfunctions:[{id:"trust",level:1,labelZh:"Absence of Trust",labelEn:"Absence of Trust",descriptionZh:"Team members are reluctant to be vulnerable with one another",descriptionEn:"Team members are reluctant to be vulnerable with one another",score:3,symptoms:["Remain silent in meetings","Avoid asking for help","Don't admit mistakes","Mutual suspicion"],symptomsEn:["Remain silent in meetings","Avoid asking for help","Don't admit mistakes","Mutual suspicion"],solutions:["Share personal backgrounds","Regular team building","Encourage discussing failures","Leader sets example"],solutionsEn:["Share personal backgrounds","Regular team building","Encourage discussing failures","Leader sets example"]},{id:"conflict",level:2,labelZh:"Fear of Conflict",labelEn:"Fear of Conflict",descriptionZh:"Teams avoid productive debates and disagreements",descriptionEn:"Teams avoid productive debates and disagreements",score:4,symptoms:["Artificial harmony","Avoid controversial topics","Complain privately after meetings","Lack deep discussion in decisions"],symptomsEn:["Artificial harmony","Avoid controversial topics","Complain privately after meetings","Lack deep discussion in decisions"],solutions:["Encourage healthy debate","Assign devil's advocate role","Establish conflict rules","Celebrate productive arguments"],solutionsEn:["Encourage healthy debate","Assign devil's advocate role","Establish conflict rules","Celebrate productive arguments"]},{id:"commitment",level:3,labelZh:"Lack of Commitment",labelEn:"Lack of Commitment",descriptionZh:"Team members don't fully commit to decisions and plans",descriptionEn:"Team members don't fully commit to decisions and plans",score:2,symptoms:["Unclear direction and priorities","Endless analysis and discussion","Uncertainty about decisions","Miss opportunities and deadlines"],symptomsEn:["Unclear direction and priorities","Endless analysis and discussion","Uncertainty about decisions","Miss opportunities and deadlines"],solutions:["Clear decision process","Set specific deadlines","Summarize meeting decisions","Regular commitment reviews"],solutionsEn:["Clear decision process","Set specific deadlines","Summarize meeting decisions","Regular commitment reviews"]},{id:"accountability",level:4,labelZh:"Avoidance of Accountability",labelEn:"Avoidance of Accountability",descriptionZh:"Team members are reluctant to hold each other accountable",descriptionEn:"Team members are reluctant to hold each other accountable",score:3,symptoms:["Low standards and expectations","Miss deadlines","Resentment among team","Encourage mediocrity"],symptomsEn:["Low standards and expectations","Miss deadlines","Resentment among team","Encourage mediocrity"],solutions:["Clear team standards","Regular progress reviews","Peer accountability","Celebrate high performance"],solutionsEn:["Clear team standards","Regular progress reviews","Peer accountability","Celebrate high performance"]},{id:"results",level:5,labelZh:"Inattention to Results",labelEn:"Inattention to Results",descriptionZh:"Team members put individual needs above collective goals",descriptionEn:"Team members put individual needs above collective goals",score:2,symptoms:["Low team morale","Individual goals prioritized","Lose achievement-oriented employees","Difficulty achieving goals"],symptomsEn:["Low team morale","Individual goals prioritized","Lose achievement-oriented employees","Difficulty achieving goals"],solutions:["Clear team objectives","Publicly track results","Reward collective achievements","Regular success celebrations"],solutionsEn:["Clear team objectives","Publicly track results","Reward collective achievements","Regular success celebrations"]}],overallScore:2.8},be=({lang:a="zh",data:r,onDataChange:c,onExport:l,readOnly:n=!1,showExportButtons:d=!0,className:p=""})=>{const[t,f]=b.useState(r||de),[m,u]=b.useState(!1),[x,S]=b.useState(null);b.useEffect(()=>{r&&f(r)},[r]);const h=s=>{f(s),c==null||c(s)},N=(s,v)=>{const i={...t,dysfunctions:t.dysfunctions.map(o=>o.id===s?{...o,...v}:o)},g=i.dysfunctions.reduce((o,j)=>o+j.score,0)/i.dysfunctions.length;i.overallScore=Math.round(g*10)/10,h(i)},k=s=>{if(s==="csv"){const v=t.dysfunctions.map(i=>{var g,o;return{Level:i.level,Dysfunction:a==="en"?i.labelEn:i.labelZh,Score:i.score,Description:a==="en"?i.descriptionEn:i.descriptionZh,Symptoms:(g=a==="en"&&i.symptomsEn||i.symptoms)==null?void 0:g.join("; "),Solutions:(o=a==="en"&&i.solutionsEn||i.solutions)==null?void 0:o.join("; ")}});l==null||l(s,v)}else l==null||l(s,t)},w=s=>s>=4?"success":s>=3?"warning":"danger",A=s=>s>=4?a==="zh"?"良好":"Good":s>=3?a==="zh"?"一般":"Fair":a==="zh"?"需改进":"Needs Improvement",P=!n&&e.jsx(ae,{size:"sm",variant:m?"solid":"flat",color:m?"primary":"default",startContent:e.jsx(z,{icon:m?"lucide:check":"lucide:edit-3"}),onPress:()=>u(!m),children:m?a==="zh"?"完成":"Done":a==="zh"?"编辑":"Edit"});return e.jsx(te,{title:"团队五大障碍",titleEn:"Five Dysfunctions of a Team",lang:a,onExport:k,showExportButtons:d,controls:P,className:p,data:t,pathLabels:{chapter:a==="zh"?"第1章":"Chapter 1",subsection:a==="zh"?"1.1 团队与使命":"1.1 Team & Mission"},children:e.jsxs("div",{className:"space-y-6",id:"five-dysfunctions-diagram",children:[e.jsx(C,{className:"bg-gradient-to-r from-primary/5 to-secondary/5",children:e.jsx(T,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsx("div",{className:"flex-1",children:m?e.jsxs("div",{className:"space-y-3",children:[e.jsx(V,{label:a==="zh"?"团队名称":"Team Name",value:a==="en"&&t.teamNameEn||t.teamName,onChange:s=>{h(a==="en"?{...t,teamNameEn:s.target.value}:{...t,teamName:s.target.value})},size:"sm"}),e.jsx(V,{label:a==="zh"?"评估日期":"Assessment Date",type:"date",value:t.assessmentDate,onChange:s=>h({...t,assessmentDate:s.target.value}),size:"sm"})]}):e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-1",children:a==="en"&&t.teamNameEn||t.teamName}),e.jsxs("p",{className:"text-sm text-default-600",children:[a==="zh"?"评估日期: ":"Assessment Date: ",t.assessmentDate]})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:t.overallScore}),e.jsx("div",{className:"text-xs text-default-500",children:a==="zh"?"总分":"Overall"})]}),e.jsx(R,{color:w(t.overallScore||0),variant:"flat",size:"sm",children:A(t.overallScore||0)})]})]})})}),e.jsx(C,{children:e.jsxs(T,{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:a==="zh"?"团队障碍金字塔":"Team Dysfunction Pyramid"}),e.jsx("div",{className:"space-y-3",children:t.dysfunctions.sort((s,v)=>v.level-s.level).map((s,v)=>{var o,j;const i=x===s.id,g=`${100-v*15}%`;return e.jsx("div",{className:"space-y-2",children:e.jsx(C,{isPressable:!0,className:`transition-all ${i?"ring-2 ring-primary":""}`,style:{width:g,margin:"0 auto"},onPress:()=>S(i?null:s.id),children:e.jsxs(T,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(R,{color:"primary",variant:"flat",size:"sm",children:s.level}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-sm",children:a==="en"?s.labelEn:s.labelZh}),e.jsx("p",{className:"text-xs text-default-500",children:a==="en"?s.descriptionEn:s.descriptionZh})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{color:w(s.score),variant:"flat",size:"sm",children:s.score}),e.jsx(z,{icon:i?"lucide:chevron-up":"lucide:chevron-down",className:"text-default-400"})]})]}),i&&e.jsxs("div",{className:"mt-4 space-y-4 border-t border-default-200 pt-4",children:[m&&e.jsx(le,{label:a==="zh"?"评分":"Score",step:1,maxValue:5,minValue:1,value:s.score,onChange:y=>N(s.id,{score:y}),className:"max-w-md",color:w(s.score),marks:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"}]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h6",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[e.jsx(z,{icon:"lucide:alert-triangle",className:"text-warning"}),a==="zh"?"症状表现":"Symptoms"]}),e.jsx("div",{className:"space-y-1",children:(o=a==="en"&&s.symptomsEn||s.symptoms)==null?void 0:o.map((y,E)=>e.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[e.jsx(z,{icon:"lucide:dot",className:"text-warning mt-1"}),e.jsx("span",{className:"text-default-600",children:y})]},E))})]}),e.jsxs("div",{children:[e.jsxs("h6",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[e.jsx(z,{icon:"lucide:lightbulb",className:"text-success"}),a==="zh"?"解决方案":"Solutions"]}),e.jsx("div",{className:"space-y-1",children:(j=a==="en"&&s.solutionsEn||s.solutions)==null?void 0:j.map((y,E)=>e.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[e.jsx(z,{icon:"lucide:check",className:"text-success mt-1"}),e.jsx("span",{className:"text-default-600",children:y})]},E))})]})]})]})]})})},s.id)})})]})}),e.jsx(C,{children:e.jsxs(T,{className:"p-4",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:a==="zh"?"团队健康度概览":"Team Health Overview"}),e.jsx("div",{className:"space-y-4",children:t.dysfunctions.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:a==="en"?s.labelEn:s.labelZh}),e.jsxs("span",{className:"text-sm text-default-500",children:[s.score,"/5"]})]}),e.jsx(ce,{value:s.score/5*100,color:w(s.score),size:"sm",className:"max-w-full"})]},s.id))})]})})]})})};export{be as default};
