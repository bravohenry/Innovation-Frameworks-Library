import{a9 as _,r as b,aa as U,ab as H,ac as G,ad as K,ae as X,af as q,ag as J,ah as Q,ai as Y,aj as ee,ak as M,al as V,am as se,j as e,a5 as $,a6 as I,an as Z,a7 as A,a4 as z,a8 as ae}from"./index-BPEI-QTe.js";import{B as te}from"./BaseInteractiveLayout-Cx_gBR8d.js";import{$ as le,s as re}from"./chunk-EUS52Q2W-BAZdRIJN.js";var R=_({slots:{base:"flex flex-col gap-2 w-full",label:"",labelWrapper:"flex justify-between",value:"",track:"z-0 relative bg-default-300/50 overflow-hidden rtl:rotate-180",indicator:"h-full"},variants:{color:{default:{indicator:"bg-default-400"},primary:{indicator:"bg-primary"},secondary:{indicator:"bg-secondary"},success:{indicator:"bg-success"},warning:{indicator:"bg-warning"},danger:{indicator:"bg-danger"}},size:{sm:{label:"text-small",value:"text-small",track:"h-1"},md:{label:"text-medium",value:"text-medium",track:"h-3"},lg:{label:"text-large",value:"text-large",track:"h-5"}},radius:{none:{track:"rounded-none",indicator:"rounded-none"},sm:{track:"rounded-small",indicator:"rounded-small"},md:{track:"rounded-medium",indicator:"rounded-medium"},lg:{track:"rounded-large",indicator:"rounded-large"},full:{track:"rounded-full",indicator:"rounded-full"}},isStriped:{true:{indicator:"bg-stripe-gradient-default bg-stripe-size"}},isIndeterminate:{true:{indicator:["absolute","w-full","origin-left","animate-indeterminate-bar"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:{},false:{indicator:"transition-transform !duration-500"}}},defaultVariants:{color:"primary",size:"md",radius:"full",isStriped:!1,isIndeterminate:!1,isDisabled:!1},compoundVariants:[{disableAnimation:!0,isIndeterminate:!1,class:{indicator:"!transition-none motion-reduce:transition-none"}},{color:"primary",isStriped:!0,class:{indicator:"bg-stripe-gradient-primary bg-stripe-size"}},{color:"secondary",isStriped:!0,class:{indicator:"bg-stripe-gradient-secondary bg-stripe-size"}},{color:"success",isStriped:!0,class:{indicator:"bg-stripe-gradient-success bg-stripe-size"}},{color:"warning",isStriped:!0,class:{indicator:"bg-stripe-gradient-warning bg-stripe-size"}},{color:"danger",isStriped:!0,class:{indicator:"bg-stripe-gradient-danger bg-stripe-size"}}]},{twMerge:!0});_({slots:{base:"flex flex-col justify-center gap-1 max-w-fit items-center",label:"",svgWrapper:"relative block",svg:"z-0 relative overflow-hidden",track:"h-full stroke-default-300/50",indicator:"h-full stroke-current",value:"absolute font-normal inset-0 flex items-center justify-center"},variants:{color:{default:{svg:"text-default-400"},primary:{svg:"text-primary"},secondary:{svg:"text-secondary"},success:{svg:"text-success"},warning:{svg:"text-warning"},danger:{svg:"text-danger"}},size:{sm:{svg:"w-8 h-8",label:"text-small",value:"text-[0.5rem]"},md:{svg:"w-10 h-10",label:"text-small",value:"text-[0.55rem]"},lg:{svg:"w-12 h-12",label:"text-medium",value:"text-[0.6rem]"}},isIndeterminate:{true:{svg:"animate-spinner-ease-spin"}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:{},false:{indicator:"transition-all !duration-500"}}},defaultVariants:{color:"primary",size:"md",isDisabled:!1},compoundVariants:[{disableAnimation:!0,isIndeterminate:!1,class:{svg:"!transition-none motion-reduce:transition-none"}}]});function ie(a={}){const{rerender:i=!1,delay:c=0}=a,r=b.useRef(!1),[n,d]=b.useState(!1);return b.useEffect(()=>{r.current=!0;let p=null;return i&&(c>0?p=setTimeout(()=>{d(!0)},c):d(!0)),()=>{r.current=!1,i&&d(!1),p&&clearTimeout(p)}},[i]),[b.useCallback(()=>r.current,[]),n]}function ne(a){let{value:i=0,minValue:c=0,maxValue:r=100,valueLabel:n,isIndeterminate:d,formatOptions:p={style:"percent"}}=a,t=U(a,{labelable:!0}),{labelProps:v,fieldProps:m}=H({...a,labelElementType:"span"});i=K(i,c,r);let u=(i-c)/(r-c),f=le(p);if(!d&&!n){let S=p.style==="percent"?u:i;n=f.format(S)}return{progressBarProps:G(t,{...m,"aria-valuenow":d?void 0:i,"aria-valuemin":c,"aria-valuemax":r,"aria-valuetext":d?void 0:n,role:"progressbar"}),labelProps:v}}function oe(a){var i,c;const r=X(),[n,d]=q(a,R.variantKeys),{ref:p,as:t,id:v,className:m,classNames:u,label:f,valueLabel:S,value:h=0,minValue:y=0,maxValue:k=100,showValueLabel:w=!1,formatOptions:L={style:"percent"},...P}=n,s=t||"div",x=J(p),l=Q(u==null?void 0:u.base,m),[,g]=ie({rerender:!0,delay:100}),o=a.isIndeterminate,j=(c=(i=a.disableAnimation)!=null?i:r==null?void 0:r.disableAnimation)!=null?c:!1,{progressBarProps:N,labelProps:E}=ne({id:v,label:f,value:h,minValue:y,maxValue:k,valueLabel:S,formatOptions:L,isIndeterminate:o,"aria-labelledby":a["aria-labelledby"],"aria-label":a["aria-label"]}),D=b.useMemo(()=>R({...d,disableAnimation:j}),[Y(d),j]),C=j?!0:g,O=b.useMemo(()=>o||!C?void 0:ee((h-y)/(k-y)*100),[C,o,h,y,k]),W=b.useCallback((T={})=>({ref:x,"data-indeterminate":V(o),"data-disabled":V(a.isDisabled),className:D.base({class:l}),...M(N,P,T)}),[x,D,o,a.isDisabled,l,N,P]),F=b.useCallback((T={})=>({className:D.label({class:u==null?void 0:u.label}),...M(E,T)}),[D,u,E]);return{Component:s,domRef:x,slots:D,classNames:u,label:f,percentage:O,showValueLabel:w,getProgressBarProps:W,getLabelProps:F}}var B=se((a,i)=>{const{Component:c,slots:r,classNames:n,label:d,percentage:p,showValueLabel:t,getProgressBarProps:v,getLabelProps:m}=oe({...a,ref:i}),u=v(),f=d||t;return e.jsxs(c,{...u,children:[f?e.jsxs("div",{className:r.labelWrapper({class:n==null?void 0:n.labelWrapper}),children:[d&&e.jsx("span",{...m(),children:d}),t&&e.jsx("span",{className:r.value({class:n==null?void 0:n.value}),children:u["aria-valuetext"]})]}):null,e.jsx("div",{className:r.track({class:n==null?void 0:n.track}),children:e.jsx("div",{className:r.indicator({class:n==null?void 0:n.indicator}),style:{transform:`translateX(-${100-(p||0)}%)`}})})]})});B.displayName="HeroUI.Progress";var ce=B;const de={teamName:"产品开发团队",teamNameEn:"Product Development Team",assessmentDate:new Date().toISOString().split("T")[0],dysfunctions:[{id:"trust",level:1,labelZh:"缺乏信任",labelEn:"Absence of Trust",descriptionZh:"团队成员不愿意展露弱点和错误",descriptionEn:"Team members are reluctant to be vulnerable with one another",score:3,symptoms:["会议中保持沉默","避免寻求帮助","不承认错误","互相猜疑"],symptomsEn:["Remain silent in meetings","Avoid asking for help","Don't admit mistakes","Mutual suspicion"],solutions:["分享个人背景和经历","定期团队建设活动","鼓励公开讨论失败","领导者以身作则"],solutionsEn:["Share personal backgrounds","Regular team building","Encourage discussing failures","Leader sets example"]},{id:"conflict",level:2,labelZh:"惧怕冲突",labelEn:"Fear of Conflict",descriptionZh:"团队避免有益的辩论和争论",descriptionEn:"Teams avoid productive debates and disagreements",score:4,symptoms:["人为和谐","避免争议话题","会后私下抱怨","决策缺乏深度讨论"],symptomsEn:["Artificial harmony","Avoid controversial topics","Complain privately after meetings","Lack deep discussion in decisions"],solutions:["鼓励健康辩论",'设立"恶魔代言人"角色',"明确冲突规则","庆祝有益的争论"],solutionsEn:["Encourage healthy debate","Assign devil's advocate role","Establish conflict rules","Celebrate productive arguments"]},{id:"commitment",level:3,labelZh:"缺乏承诺",labelEn:"Lack of Commitment",descriptionZh:"团队成员不能全力投入决策和计划",descriptionEn:"Team members don't fully commit to decisions and plans",score:2,symptoms:["模糊的方向和优先级","无休止的分析和讨论","对决策不确定","错过机会和截止日期"],symptomsEn:["Unclear direction and priorities","Endless analysis and discussion","Uncertainty about decisions","Miss opportunities and deadlines"],solutions:["明确决策流程","设定具体截止日期","总结会议决定","定期回顾承诺"],solutionsEn:["Clear decision process","Set specific deadlines","Summarize meeting decisions","Regular commitment reviews"]},{id:"accountability",level:4,labelZh:"逃避责任",labelEn:"Avoidance of Accountability",descriptionZh:"团队成员不愿意互相问责",descriptionEn:"Team members are reluctant to hold each other accountable",score:3,symptoms:["低标准和低期望","错过截止日期","团队中的怨恨","鼓励平庸"],symptomsEn:["Low standards and expectations","Miss deadlines","Resentment among team","Encourage mediocrity"],solutions:["明确团队标准","定期进度审查","同级问责制","庆祝高绩效"],solutionsEn:["Clear team standards","Regular progress reviews","Peer accountability","Celebrate high performance"]},{id:"results",level:5,labelZh:"忽视结果",labelEn:"Inattention to Results",descriptionZh:"团队成员把个人需求置于集体目标之上",descriptionEn:"Team members put individual needs above collective goals",score:2,symptoms:["团队士气低落","个人目标优先","失去成就导向的员工","很难实现目标"],symptomsEn:["Low team morale","Individual goals prioritized","Lose achievement-oriented employees","Difficulty achieving goals"],solutions:["明确团队目标","公开跟踪结果","奖励集体成就","定期庆祝成功"],solutionsEn:["Clear team objectives","Publicly track results","Reward collective achievements","Regular success celebrations"]}],overallScore:2.8},be=({lang:a="zh",data:i,onDataChange:c,onExport:r,readOnly:n=!1,showExportButtons:d=!0,className:p=""})=>{const[t,v]=b.useState(i||de),[m,u]=b.useState(!1),[f,S]=b.useState(null);b.useEffect(()=>{i&&v(i)},[i]);const h=s=>{v(s),c==null||c(s)},y=(s,x)=>{const l={...t,dysfunctions:t.dysfunctions.map(o=>o.id===s?{...o,...x}:o)},g=l.dysfunctions.reduce((o,j)=>o+j.score,0)/l.dysfunctions.length;l.overallScore=Math.round(g*10)/10,h(l)},k=s=>{if(s==="csv"){const x=t.dysfunctions.map(l=>{var g,o;return{Level:l.level,Dysfunction:a==="en"?l.labelEn:l.labelZh,Score:l.score,Description:a==="en"?l.descriptionEn:l.descriptionZh,Symptoms:(g=a==="en"&&l.symptomsEn||l.symptoms)==null?void 0:g.join("; "),Solutions:(o=a==="en"&&l.solutionsEn||l.solutions)==null?void 0:o.join("; ")}});r==null||r(s,x)}else r==null||r(s,t)},w=s=>s>=4?"success":s>=3?"warning":"danger",L=s=>s>=4?a==="zh"?"良好":"Good":s>=3?a==="zh"?"一般":"Fair":a==="zh"?"需改进":"Needs Improvement",P=!n&&e.jsx(ae,{size:"sm",variant:m?"solid":"flat",color:m?"primary":"default",startContent:e.jsx(z,{icon:m?"lucide:check":"lucide:edit-3"}),onPress:()=>u(!m),children:m?a==="zh"?"完成":"Done":a==="zh"?"编辑":"Edit"});return e.jsx(te,{title:"团队五大障碍",titleEn:"Five Dysfunctions of a Team",lang:a,onExport:k,showExportButtons:d,controls:P,className:p,data:t,pathLabels:{chapter:a==="zh"?"第1章":"Chapter 1",subsection:a==="zh"?"1.1 团队与使命":"1.1 Team & Mission"},children:e.jsxs("div",{className:"space-y-6",id:"five-dysfunctions-diagram",children:[e.jsx($,{className:"bg-gradient-to-r from-primary/5 to-secondary/5",children:e.jsx(I,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsx("div",{className:"flex-1",children:m?e.jsxs("div",{className:"space-y-3",children:[e.jsx(Z,{label:a==="zh"?"团队名称":"Team Name",value:a==="en"&&t.teamNameEn||t.teamName,onChange:s=>{h(a==="en"?{...t,teamNameEn:s.target.value}:{...t,teamName:s.target.value})},size:"sm"}),e.jsx(Z,{label:a==="zh"?"评估日期":"Assessment Date",type:"date",value:t.assessmentDate,onChange:s=>h({...t,assessmentDate:s.target.value}),size:"sm"})]}):e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold mb-1",children:a==="en"&&t.teamNameEn||t.teamName}),e.jsxs("p",{className:"text-sm text-default-600",children:[a==="zh"?"评估日期: ":"Assessment Date: ",t.assessmentDate]})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:t.overallScore}),e.jsx("div",{className:"text-xs text-default-500",children:a==="zh"?"总分":"Overall"})]}),e.jsx(A,{color:w(t.overallScore||0),variant:"flat",size:"sm",children:L(t.overallScore||0)})]})]})})}),e.jsx($,{children:e.jsxs(I,{className:"p-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:a==="zh"?"团队障碍金字塔":"Team Dysfunction Pyramid"}),e.jsx("div",{className:"space-y-3",children:t.dysfunctions.sort((s,x)=>x.level-s.level).map((s,x)=>{var o,j;const l=f===s.id,g=`${100-x*15}%`;return e.jsx("div",{className:"space-y-2",children:e.jsx($,{isPressable:!0,className:`transition-all ${l?"ring-2 ring-primary":""}`,style:{width:g,margin:"0 auto"},onPress:()=>S(l?null:s.id),children:e.jsxs(I,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(A,{color:"primary",variant:"flat",size:"sm",children:s.level}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-sm",children:a==="en"?s.labelEn:s.labelZh}),e.jsx("p",{className:"text-xs text-default-500",children:a==="en"?s.descriptionEn:s.descriptionZh})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{color:w(s.score),variant:"flat",size:"sm",children:s.score}),e.jsx(z,{icon:l?"lucide:chevron-up":"lucide:chevron-down",className:"text-default-400"})]})]}),l&&e.jsxs("div",{className:"mt-4 space-y-4 border-t border-default-200 pt-4",children:[m&&e.jsx(re,{label:a==="zh"?"评分":"Score",step:1,maxValue:5,minValue:1,value:s.score,onChange:N=>y(s.id,{score:N}),className:"max-w-md",color:w(s.score),marks:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"}]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("h6",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[e.jsx(z,{icon:"lucide:alert-triangle",className:"text-warning"}),a==="zh"?"症状表现":"Symptoms"]}),e.jsx("div",{className:"space-y-1",children:(o=a==="en"&&s.symptomsEn||s.symptoms)==null?void 0:o.map((N,E)=>e.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[e.jsx(z,{icon:"lucide:dot",className:"text-warning mt-1"}),e.jsx("span",{className:"text-default-600",children:N})]},E))})]}),e.jsxs("div",{children:[e.jsxs("h6",{className:"font-medium text-sm mb-2 flex items-center gap-2",children:[e.jsx(z,{icon:"lucide:lightbulb",className:"text-success"}),a==="zh"?"解决方案":"Solutions"]}),e.jsx("div",{className:"space-y-1",children:(j=a==="en"&&s.solutionsEn||s.solutions)==null?void 0:j.map((N,E)=>e.jsxs("div",{className:"flex items-start gap-2 text-xs",children:[e.jsx(z,{icon:"lucide:check",className:"text-success mt-1"}),e.jsx("span",{className:"text-default-600",children:N})]},E))})]})]})]})]})})},s.id)})})]})}),e.jsx($,{children:e.jsxs(I,{className:"p-4",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4",children:a==="zh"?"团队健康度概览":"Team Health Overview"}),e.jsx("div",{className:"space-y-4",children:t.dysfunctions.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:a==="en"?s.labelEn:s.labelZh}),e.jsxs("span",{className:"text-sm text-default-500",children:[s.score,"/5"]})]}),e.jsx(ce,{value:s.score/5*100,color:w(s.score),size:"sm",className:"max-w-full"})]},s.id))})]})})]})})};export{be as default};
