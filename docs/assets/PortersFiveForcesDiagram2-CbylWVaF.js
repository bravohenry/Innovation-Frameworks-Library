import{r as h,ac as t,ba as p,bb as x,bc as E,b9 as g,bd as B}from"./index-B6Arqw47.js";import{B as L}from"./BaseInteractiveLayout-DI8tFZAT.js";import{s as Z}from"./chunk-EUS52Q2W-DpttAlIM.js";import{t as N}from"./chunk-QESP63UR-EV8kYoS_.js";const _={forces:[{key:"rivalry",labelZh:"Competitive Rivalry",labelEn:"Competitive Rivalry",weight:3,description:"Intensity of competition among existing players",descriptionEn:"Intensity of competition among existing players",factors:["Number of competitors","Product differentiation","Switching costs","Exit barriers"],factorsEn:["Number of competitors","Product differentiation","Switching costs","Exit barriers"]},{key:"suppliers",labelZh:"Supplier Power",labelEn:"Supplier Power",weight:2,description:"Suppliers' control over pricing and terms",descriptionEn:"Suppliers' control over pricing and terms",factors:["Supplier concentration","Substitute inputs","Forward integration threat","Industry importance"],factorsEn:["Supplier concentration","Substitute inputs","Forward integration threat","Industry importance"]},{key:"buyers",labelZh:"Buyer Power",labelEn:"Buyer Power",weight:4,description:"Customers' bargaining power over prices and terms",descriptionEn:"Customers' bargaining power over prices and terms",factors:["Buyer concentration","Purchase volume","Product standardization","Backward integration threat"],factorsEn:["Buyer concentration","Purchase volume","Product standardization","Backward integration threat"]},{key:"substitutes",labelZh:"Threat of Substitutes",labelEn:"Threat of Substitutes",weight:3,description:"Threat level from alternative products or services",descriptionEn:"Threat level from alternative products or services",factors:["Substitute performance","Price advantage","Switching costs","Customer preference"],factorsEn:["Substitute performance","Price advantage","Switching costs","Customer preference"]},{key:"entrants",labelZh:"Threat of New Entrants",labelEn:"Threat of New Entrants",weight:2,description:"Likelihood of new competitors entering the market",descriptionEn:"Likelihood of new competitors entering the market",factors:["Entry barriers","Economies of scale","Capital requirements","Government policy"],factorsEn:["Entry barriers","Economies of scale","Capital requirements","Government policy"]}],overallRating:2.8,summary:"The industry is highly competitive with strong buyer power, but entry barriers are relatively high.",summaryEn:"The industry is highly competitive with strong buyer power, but entry barriers are relatively high."},M=({lang:s="zh",data:m,onDataChange:y,onExport:o,readOnly:z=!1,showExportButtons:S=!0,className:k=""})=>{const[r,w]=h.useState(m||_),[i,P]=h.useState(!1),[f,F]=h.useState(null);h.useEffect(()=>{m&&w(m)},[m]);const v=e=>{w(e),y==null||y(e)},b=(e,d)=>{const a={...r,forces:r.forces.map(n=>n.key===e?{...n,...d}:n)},l=a.forces.reduce((n,c)=>n+c.weight,0)/a.forces.length;a.overallRating=Math.round(l*10)/10,v(a)},R=e=>{if(e==="csv"){const d=r.forces.map(a=>{var l;return{Force:s==="en"?a.labelEn:a.labelZh,Weight:a.weight,Description:s==="en"&&a.descriptionEn||a.description,Factors:(l=s==="en"&&a.factorsEn||a.factors)==null?void 0:l.join("; ")}});o==null||o(e,d)}else o==null||o(e,r)},j=e=>e>=4?"danger":e>=3?"warning":"success",T=e=>e>=4?s==="zh"?"高威胁":"High Threat":e>=3?s==="zh"?"中威胁":"Medium Threat":s==="zh"?"低威胁":"Low Threat",C=!z&&t.jsx(B,{size:"sm",variant:i?"solid":"flat",color:i?"primary":"default",startContent:t.jsx(g,{icon:i?"lucide:check":"lucide:edit-3"}),onPress:()=>P(!i),children:i?s==="zh"?"完成":"Done":s==="zh"?"编辑":"Edit"});return t.jsx(L,{title:"波特五力分析",titleEn:"Porter's Five Forces Analysis",lang:s,onExport:R,showExportButtons:S,controls:C,className:k,data:r,pathLabels:{chapter:s==="zh"?"第1章":"Chapter 1",subsection:s==="zh"?"1.2 行业结构":"1.2 Industry Structure"},children:t.jsxs("div",{className:"space-y-6",children:[t.jsx(p,{className:"bg-gradient-to-r from-primary/5 to-secondary/5",children:t.jsx(x,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-semibold mb-2",children:s==="zh"?"整体行业吸引力":"Overall Industry Attractiveness"}),t.jsx("p",{className:"text-sm text-default-600",children:s==="en"&&r.summaryEn||r.summary})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-primary",children:r.overallRating}),t.jsx("div",{className:"text-xs text-default-500",children:s==="zh"?"平均分":"Average"})]}),t.jsx(E,{color:j(r.overallRating||0),variant:"flat",size:"sm",children:T(r.overallRating||0)})]})]})})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.forces.map(e=>{var d,a,l,n;return t.jsx(p,{isPressable:i,className:`transition-all ${f===e.key?"ring-2 ring-primary":""}`,onPress:()=>i&&F(f===e.key?null:e.key),children:t.jsx(x,{className:"p-4",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h5",{className:"font-semibold text-sm mb-1",children:s==="en"?e.labelEn:e.labelZh}),t.jsx("p",{className:"text-xs text-default-500 line-clamp-2",children:s==="en"&&e.descriptionEn||e.description})]}),t.jsx(E,{color:j(e.weight),variant:"flat",size:"sm",className:"ml-2",children:e.weight})]}),i&&f===e.key?t.jsxs("div",{className:"space-y-3",children:[t.jsx(Z,{label:s==="zh"?"威胁程度":"Threat Level",step:1,maxValue:5,minValue:1,value:e.weight,onChange:c=>b(e.key,{weight:c}),className:"max-w-md",color:j(e.weight),marks:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"}]}),t.jsx(N,{label:s==="zh"?"关键因素":"Key Factors",placeholder:s==="zh"?"输入影响因素...":"Enter influencing factors...",value:(d=s==="en"&&e.factorsEn||e.factors)==null?void 0:d.join(`
`),onChange:c=>{const u=c.target.value.split(`
`).filter(I=>I.trim());s==="en"?b(e.key,{factorsEn:u}):b(e.key,{factors:u})},minRows:3,size:"sm"})]}):t.jsx("div",{children:t.jsxs("div",{className:"space-y-1",children:[(a=s==="en"&&e.factorsEn||e.factors)==null?void 0:a.slice(0,3).map((c,u)=>t.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[t.jsx(g,{icon:"lucide:dot",className:"text-default-400"}),t.jsx("span",{className:"text-default-600",children:c})]},u)),(((l=s==="en"&&e.factorsEn||e.factors)==null?void 0:l.length)||0)>3&&t.jsxs("div",{className:"text-xs text-default-400",children:["+",(((n=s==="en"&&e.factorsEn||e.factors)==null?void 0:n.length)||0)-3," ",s==="zh"?"更多":"more"]})]})})]})})},e.key)})}),t.jsx(p,{children:t.jsxs(x,{className:"p-6",children:[t.jsx("h4",{className:"text-lg font-semibold mb-4",children:s==="zh"?"五力雷达图":"Five Forces Radar"}),t.jsx("div",{className:"flex items-center justify-center h-64 bg-default-50 rounded-lg",children:t.jsxs("div",{className:"text-center space-y-2",children:[t.jsx(g,{icon:"lucide:radar",className:"text-4xl text-default-300 mx-auto"}),t.jsx("p",{className:"text-default-500",children:s==="zh"?"雷达图可视化":"Radar Chart Visualization"}),t.jsx("p",{className:"text-xs text-default-400",children:s==="zh"?"集成图表库后显示":"Shows when chart library integrated"})]})})]})}),i&&t.jsx(p,{children:t.jsx(x,{className:"p-4",children:t.jsx(N,{label:s==="zh"?"分析总结":"Analysis Summary",placeholder:s==="zh"?"输入行业分析总结...":"Enter industry analysis summary...",value:s==="en"&&r.summaryEn||r.summary,onChange:e=>{v(s==="en"?{...r,summaryEn:e.target.value}:{...r,summary:e.target.value})},minRows:2})})})]})})};export{M as default};
